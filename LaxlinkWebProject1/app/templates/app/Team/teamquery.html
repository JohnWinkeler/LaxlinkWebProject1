<!DOCTYPE html>
{% extends "app/layout.html" %}
{% load crispy_forms_tags %}

<h1>Find Team Info</h1>
{% csrf_token %}

{% block content %}



<div class="row">
    <div class="col-md-3">
        <div class="demo-content bg-alt">Search Filters
        <form method="post">
        {% csrf_token %}
            <h4> Team State</h4>
            <select name="teamState">
                {% for state in form.choiceTeamState.choices %}
                    <option value="{{ state }}">{{ state }}</option>
                {% endfor %}
            </select>

            <h4> Team Conference</h4>
            <select name="teamConference">
                {% for conf in form.choiceTeamConf.choices %}
                    <option value="{{ conf }}">{{ conf }}</option>
                {% endfor %}
            </select>
            <h4> Team Division</h4>
            <select name="teamDivision">
                {% for division in form.choiceTeamDivision.choices %}
                    <option value="{{ division }}">{{ division }}</option>
                {% endfor %}
            </select>
        <button type="submit" class="btn btn-primary btn-sm" name="team_filters" value="team_filters">Apply Filters</button>

        <h3>Available Teams</h3>
            <select name="dropTeamName">
                {% for teamName in form.choiceTeamNames.choices %}
                    <option value="{{ teamName }}">{{ teamName }}</option>
                {% endfor %}
            </select>
        <button type="submit" class="btn btn-primary btn-sm btn-block" name="select_team" value="select_team">Select Team</button>

        </div>

        
        </form>
    </div>
    <div class="col-md-3">
        <div class="demo-content bg-alt">Team Info
        <form method="post">
            {% csrf_token %}
     
            <H2>{{ teamInfo.name }}</H2>
            <h4>Team Home State - {{ teamInfo.state}}</h4> 
            
            <h4>Team Division - {{ teamInfo.division }} </h4>
            <h4>Conference -  {{teamInfo.conference}} </h4> 
          
            <h4>Coach - {{teamInfo.coach}} </h4> 
            
            <h4>Power Rating - {{teamInfo.powerrating}}</h4> 
            
            {% if form.renderButtons %}
            <div class="btn-group-vertical btn-group-md btn-block" role="group" aria-label="teamAction">
                <button type="submit" class="btn btn-primary" name="team_actions" value="listSchedule">Schedule</button>
                <button type="submit" class="btn btn-secondary" name="team_actions" value="listLeagueRanking">League Ranking</button>
                <button type="submit" class="btn btn-primary" name="team_actions" value="listStateRanking">State Ranking</button>
            </div>
            {% endif %}
        </form>
        </div>
    </div>
    <div class="col-md-6">
       
        {% if schedule %}
        <div class="demo-content">Schedule
            <table style="width:100%">
                <tr>
                    <th bgcolor="#c9d8f2">Away Team</th>
                    <th bgcolor="#c9d8f2">Home Team</th>
                    <th bgcolor="#c9d8f2">Date</th>
                </tr>
                {% for game in games %}
                    <tr bgcolor={{game.bgColor}}>
                        <td> {{ game.awayteamname }} </td>
                        <td> {{ game.hometeamname }} </td>
                        <td> {{ game.gamedate }} </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
        {% endif %}
    </div>
</div>



<div class="container">
    <h3> Desired Team </h3>
    <form method="post">
        {% csrf_token %}
        
        <label>Team Name:</label>
        <H2>{{ teamInfo.name }}</H2>
        <label>Team Home State</label> 
        {{ teamInfo.state}}
        <label>Team Division</label> 
        {{ teamInfo.division }}
        <label>Conference</label> 
        {{teamInfo.conference}}
        <label>Coach</label> 
        {{teamInfo.coach}}
        <label>Power Rating</label> 
        {{teamInfo.powerrating}}
        {% if form.renderRankingButton %}
            <h1> RANKING BUTTON ENABLED</h1>
        {% endif %}

        {% if form.renderScheduleButton %}
            <h1> Scheduling BUTTON ENABLED</h1>
        {% endif %}
    </form>
</div>


    

{% endblock %}


